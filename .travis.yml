language: ruby
rvm:
- 2.3.1
env:
  matrix:
  - SEXY_SETTINGS=driver=phantomjs
  - SEXY_SETTINGS=driver=poltergeist
  - secure: "uniqBeHmBYWzH0N1DxObK4ydrDp5qyf409oKVpDUfPQCwfllTgozNuoy5hmjGAyljcx2kQCG3f6QbHDCbIJ4d8ip0QJ8SWXAplFORIeaab61RrXnFpv3yVzQH6axnUF+RBZ11AaopMg3zSwahDf5fwVrtZBwV34qFsxPj448bT7m6RiCvy9PyyD8pvETTVGI4fmoOOLYZthYG47QhQnrHD6ETDYACd6zmguQIQwB1exprORti/B8MYLQeaEdhG1Q84PyBJkMCdqg3Lxp+eeZtKcFL67JqAk2CNSQUUKngXlGnk9CeQ6et8gBfD3ZvysJhH2bqHyE+d42GZsVPZKkXXLxz/l0bU/4AmyKGUy5pbZVw+aEtdaLez2HCbNMSqCZyTMzHGTHjAXPIB5gIjOV+nM/CDyyaeyhEKSAViTVdg4+CLa3wAsLN1OlWcMa46dD7kPWgouRMmrGYNHooAcy3p8oLtwuNWoaw6Fhi9rv+FH8VKBu0Y78TMP8gS3axCTsgn2WEYmMyHg8/E10wRs8G0ZGwFcskFQ8qB2GIpO7O8QA3NCZ0A59/5z/DI70XUdG9wkMk1a4AigJnBHSnUyODLQybhf81pafarj5uOHaErLXBtv1xOQNo1gQQcEYqt6HVWCNwYBJxgdMhziCusRi/Ru1P0WfYLnINtZMLMBWW0E=" #driver=sauce
  - secure: "f24fzdhSzxlNIYtCmYNWfcM4zFZlzNEkOWGfRqJh3Jurz9SpwSXIWwTlXa6J+1FAe+AS7yHdp5TqXmzYm9LIHOXWxsAhOYSC0ueADrTZqslWN6RQ4Skr0tHZm/4MAJfSIWYUVsllo78u1KiTEaOVsnu6yJWdcwr6sA1HSvid2myn4SUqSsm2GNry0Yqb2qBUj6y7YBWUSZdusl2jERVUhMPpvr5gSquZC8H0OYDF/5OCuk8XgLwBPPFEHT3dezx0fusQaDajYag05LI5NO6F8W+IOk36speRHkdfjPyGgS4PTp0pMhRy5WCpXXQ/80JiCSXp+4U2a3IunaisckDkJrSuI3zk9Xc8KLITYX2kH58K9VMMkw9CGpXOWExqIAXaQBFSMnVaIEHiTzWs3IumxWEzfCswuXoc44wSRMzqwZnwA10QaWdGHrOpGmaaKdmST15NbgqLI313vd37k4Hp08FVD4m2CzgoMlqC53DJV8c6k3IfOc875fwEQWGgLtZ2FrLC0UW/MJoWq238ss4T12pAZF4NkIRxMpUV0HfRW1hpMio02qk7qfUpWVVclg/zGqxGTG9ctbU31sVvolMmtwd9AR2tMmSmyTAonlgA8vxGathYSXdgLLpbXbWRFWOFHOZGJpdGCaDc42NhPkaobpguntKj8DzNmaKf3l16OtA=" #driver=testingbot
  - secure: "dhaXaeTTLVOxkBfCvt/+yPlP+hOKvdWHCXE7sbDDsCIj/v5WEK724LUalMbDfJHolndnKqSN4fccjmCMIPeuioOIGt54kHmz3atq9PZuegYu6qVSuLr1ugANw3V99a6YDxZLdruL0JHHCwuTxLYLoWT//u8y4tMsbUZQokNel3mqQx3o/x7OrPKVUg0V5i8Myb8yBtV+9SKw1wQaK3U5jR4e9ze7bhINlJSUaBEe1t55KSptsEfnhwL+LY76i+tMYDrl5EcrjK/8Y6gsHZAocXJYuu5MNeHdg4ufwSafO9vm9fssWhQvs+TkHrtxDwc8qgXQT4X1UMZyeRuZFYKd8LfuaCikL3+FAx/9MmbLXv5RaLZBxlDtw5MglmDaSRGzLEfuhADi0fWfmaxHGQjEU3BTWKiFtesHO1i7eA2xwhMoj0Vakpl2rBCVp0ckZ9vxhEO8gEZulYBU6xb968DNO4d5Qvh5WOBu9F3ftu+7p5x5lbPtsa3HYtslPaCpvov6qLOroeOJBcDJ3yNmq1d4gkOgH7QlYAWVTuBSz7UY25nNL6LM+fbc2jOev1/JrQ4li3cSNx38x5jF3FNQKEJBkFibyiwGAe24zypaMafswTpMGLbOeBGx60U+nRkXPw1FfT8zwiqNI5Phttd1zHdS7J6MEMEB2tCwXlegQffVgjo=" #driver=browserstack
script: "./scripts/run-tests.sh"
deploy:
  provider: s3
  access_key_id:
    secure: "DtsXjLEm6cUf5xIsuytNw18rmKtpgI3SGLPgz7zzDjjcXPDGrPZIDGmuBaiM8PRBFuUG+CAwOGMyGF0UZwYy7Jxqoj6wGvXnGE5TjIF+6NjHuBNoK5t+6tFpWco0X7c2w6rrOrWUWYj5mcAwAwmujArv+IqMySX3xGA4KNTvc8l4M+brhns8PaP551L/HBiBGtzwD2bo++mOGOE/QuJ8gta8ye1HlJjc1XOmFsKAPGdLkhnT1GiRlmHnViuC1uDhAGmiHoOXlGSJuI8Ph5769vpIX43+ZAmsj2Lj6QD9soUrxMqg/dAPqJU+c+2A4/lgoN8xpAoJPKq3mB08R2JIJyA7sWnP+PFL/gLdmlzu9x097EeNLmvoem/Vc3K/8KsJ0ODORb5ulW3t6BOWj+RGklRcIIesr18au8CRnpXL1QUd++UFDWwSnxsqzLCr/W36nSNV5hHY7qgQ3zr31//X59bf19pdwrRVX5yU01Q2fCe7Wya5wmhS1mQ+U+p5l/Iueb3uQxryP6ue8+eo+RVpsvZr+T0pcY2VRwhbYMU1R6BaviCnHdSKUrcOlTFA8jRkZdYc6TyXpI2QZ3ejCN5tbUUsHD4PohcBrIyUjEFezHaO9QIijNb96o5SBxmlolWmgTLhJBp/6CG2GRmPI4tsmfe4WSTe+xgbvWJmI0q8Es0="
  secret_access_key:
    secure: giYZSgrZrK6S37PmpaWo+8xH5sWMmk9VelBi4stDOtIegj0q+Alo60vcWG+2SzRRbpSrTCJ+XE6LfL7pGOdQSDV2zbRIdzWtuhvd7Z0GxEazKbc/LzeBBcBHtdD984lnFxyhdXy52whge1l7RppEIJCUml1s5mLy5VZuVQMdROBn8Rb2WCoF2mk6WxDJyWPl0RTlmTgiKZEPtUMmWKoc8jLzk8aiKturg2kBptTB07AXKZ44fAIjshAVN4/7G70/e/f+745VIFOU1BD8k8e05yIrztHTl/mcYoGb4ltvKkUrqvtYg8TYxfw37PPm82mZbJGvzVGUEvo7bi8j1dTrf5KXXyvP6at/XnGuFxUyhSJ7BMopca3ePg9n+TZbiVTQ0/levBrHXB7Y8Y7X1qMTEUiEOSrmN0nGDqKs15Lwbxo7m0XJVycvzYx98C6aAfcJOfJ2HfE4tIAPkIxS29r4sBUdwdVOx/1iEs1dhTC8Ehn8PP+N6EFf8AqyzjgL0IClW4EQqXXdBkI6zB8svUhHqz7C0bbcyvvut4wu8XTX3D2yjbfKMyDOiUA4lQ9S1Y2W+bvLXPawPT9ZMi59SjrwILTwU6GnH8H/Yb0U/IuPY4CeagbvceLhrx1WazeLCIfqXjJNzJLEUIFH+m7v4cKImGF2kmjLdRhYftYRG30Bq4s=
  bucket:
    secure: "aEgP1Xxz5sWAo4n/IpdFvaSeJ4Ac0nWA3XAiAHcW25DQwr79rDocGXnEcGBinkmEiWe3ChGwAniDUoiw0tN7wRl776uccNIdKOz8jXes1xp9L6bIquiZNk2ouY9ZPnRqxW7hgup6nx/pHZ9vACUfPAVqUDYaF7ZyueiMMYqAXqVYRUT2D/TfjkYMs/nPPkhZxunDnivOvumL+sr2RAZ7u/2oPURv5NpJd0wywyFJiCuSPIjrNbeZFPdfNZlvG2tEduSfuPhTUh/VMhhY5GsA+F2eaCmFvy5F3VF9IV+QEpOZdzr1r+IvGNTyrS1cqrnTQKhJ3/Fgnx3azvOWdF/cvYb43PkzreRaayOsNvhD4v5uBdbNuec8IGiw02iK6kDgz/rIk+yoiNTimvPUMcPF8dlAAgsVEbKxRL7+GJ6tUTN6HvbnrgZTx2bn49yDg41sfsk/8zLbUMbONgA4tYV9s6bfOLAvFa5qpdLtBvUHzGFgMbfOprfm77b54pypMEGOHdElI4b9diOjP58xBjP+GpIrU5r7smcMJTg38J9TJhDReGEQAaqkx5Bvnh1Cw0w7Extt9zGSmOZjVLcLmnSUmRxVWn5SxmQUH8R8cAKzorII5lX0n5T06xTBwKM6SSztX3m2B+xLpkOoiKCoPu/nVlYob5GbrIttsgpqbf7z5aI="
  region: us-west-2
  local_dir: log

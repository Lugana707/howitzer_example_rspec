language: ruby
rvm:
- 2.3.1
env:
  matrix:
  - SEXY_SETTINGS=driver=phantomjs
  - SEXY_SETTINGS=driver=poltergeist
  - secure: "uniqBeHmBYWzH0N1DxObK4ydrDp5qyf409oKVpDUfPQCwfllTgozNuoy5hmjGAyljcx2kQCG3f6QbHDCbIJ4d8ip0QJ8SWXAplFORIeaab61RrXnFpv3yVzQH6axnUF+RBZ11AaopMg3zSwahDf5fwVrtZBwV34qFsxPj448bT7m6RiCvy9PyyD8pvETTVGI4fmoOOLYZthYG47QhQnrHD6ETDYACd6zmguQIQwB1exprORti/B8MYLQeaEdhG1Q84PyBJkMCdqg3Lxp+eeZtKcFL67JqAk2CNSQUUKngXlGnk9CeQ6et8gBfD3ZvysJhH2bqHyE+d42GZsVPZKkXXLxz/l0bU/4AmyKGUy5pbZVw+aEtdaLez2HCbNMSqCZyTMzHGTHjAXPIB5gIjOV+nM/CDyyaeyhEKSAViTVdg4+CLa3wAsLN1OlWcMa46dD7kPWgouRMmrGYNHooAcy3p8oLtwuNWoaw6Fhi9rv+FH8VKBu0Y78TMP8gS3axCTsgn2WEYmMyHg8/E10wRs8G0ZGwFcskFQ8qB2GIpO7O8QA3NCZ0A59/5z/DI70XUdG9wkMk1a4AigJnBHSnUyODLQybhf81pafarj5uOHaErLXBtv1xOQNo1gQQcEYqt6HVWCNwYBJxgdMhziCusRi/Ru1P0WfYLnINtZMLMBWW0E=" #driver=sauce
  - secure: "f24fzdhSzxlNIYtCmYNWfcM4zFZlzNEkOWGfRqJh3Jurz9SpwSXIWwTlXa6J+1FAe+AS7yHdp5TqXmzYm9LIHOXWxsAhOYSC0ueADrTZqslWN6RQ4Skr0tHZm/4MAJfSIWYUVsllo78u1KiTEaOVsnu6yJWdcwr6sA1HSvid2myn4SUqSsm2GNry0Yqb2qBUj6y7YBWUSZdusl2jERVUhMPpvr5gSquZC8H0OYDF/5OCuk8XgLwBPPFEHT3dezx0fusQaDajYag05LI5NO6F8W+IOk36speRHkdfjPyGgS4PTp0pMhRy5WCpXXQ/80JiCSXp+4U2a3IunaisckDkJrSuI3zk9Xc8KLITYX2kH58K9VMMkw9CGpXOWExqIAXaQBFSMnVaIEHiTzWs3IumxWEzfCswuXoc44wSRMzqwZnwA10QaWdGHrOpGmaaKdmST15NbgqLI313vd37k4Hp08FVD4m2CzgoMlqC53DJV8c6k3IfOc875fwEQWGgLtZ2FrLC0UW/MJoWq238ss4T12pAZF4NkIRxMpUV0HfRW1hpMio02qk7qfUpWVVclg/zGqxGTG9ctbU31sVvolMmtwd9AR2tMmSmyTAonlgA8vxGathYSXdgLLpbXbWRFWOFHOZGJpdGCaDc42NhPkaobpguntKj8DzNmaKf3l16OtA=" #driver=testingbot
  - secure: "dhaXaeTTLVOxkBfCvt/+yPlP+hOKvdWHCXE7sbDDsCIj/v5WEK724LUalMbDfJHolndnKqSN4fccjmCMIPeuioOIGt54kHmz3atq9PZuegYu6qVSuLr1ugANw3V99a6YDxZLdruL0JHHCwuTxLYLoWT//u8y4tMsbUZQokNel3mqQx3o/x7OrPKVUg0V5i8Myb8yBtV+9SKw1wQaK3U5jR4e9ze7bhINlJSUaBEe1t55KSptsEfnhwL+LY76i+tMYDrl5EcrjK/8Y6gsHZAocXJYuu5MNeHdg4ufwSafO9vm9fssWhQvs+TkHrtxDwc8qgXQT4X1UMZyeRuZFYKd8LfuaCikL3+FAx/9MmbLXv5RaLZBxlDtw5MglmDaSRGzLEfuhADi0fWfmaxHGQjEU3BTWKiFtesHO1i7eA2xwhMoj0Vakpl2rBCVp0ckZ9vxhEO8gEZulYBU6xb968DNO4d5Qvh5WOBu9F3ftu+7p5x5lbPtsa3HYtslPaCpvov6qLOroeOJBcDJ3yNmq1d4gkOgH7QlYAWVTuBSz7UY25nNL6LM+fbc2jOev1/JrQ4li3cSNx38x5jF3FNQKEJBkFibyiwGAe24zypaMafswTpMGLbOeBGx60U+nRkXPw1FfT8zwiqNI5Phttd1zHdS7J6MEMEB2tCwXlegQffVgjo=" #driver=browserstack
script: "./scripts/run-tests.sh"
deploy:
  provider: s3
  access_key_id:
    secure: buahvO+yZVpFZNpSqaNicviqUg82/BzWbZh8eNVmN5Lqi+bVATKRinzR3GD3W8tAv8m+EPa1WmTk4dRLVXH39oTCjjxg2wcpMAZXEnMevk1nxvF2tL/vZNQWcWw0RVhWwj3oq1TGktfzTgVaalx+uAfYfDpInhLed0Y0BDBQN5eM+IjiQw36T4v/2VXadk0mv0vcFNcWi86Rh/nOaTVcF4aiXr96MpLogImdcankJ/goNRWCX7rHJ4rs56XmM9E5CeVfNgrxhpJejMnqy2QH+8jftoS2TZD3uRYR8EZfjKhpyctMa+qeCy283pcMQ73v2Nh1H0urELFLDJ6ZmD/uACMucxyVFZfOWN0UbHOoYiS7yZzFs+NQ50D6kAvQrUVJ3JrCN2vBnMX66ZQ0uCk3hNPo3c1FbyBuDg3LrJvDJkNj7vDSSKnyQtb4tKwwBLSobYx9zmdOJA/MrpCaq/L6f0WHCT07R5ANoFPQ5BKEAqjSExABmCcV/g8tHcxCy0F4SaBd00Wa68ZDiYtD+J87gwidNj3ogRbdR2cMdbAcVxXhoywXBDycYAmplgkJtfITU+2SaJ5n1uca00SZmr3oWX0uMz2imPwXmHm+XCRu9RyE7oewwrKczTvdrmO6IXBV+belcuU0S2KbWS4Kg7qTDPxaSoYUswIi+pd+F0ArZAw=
  secret_access_key:
    secure: giYZSgrZrK6S37PmpaWo+8xH5sWMmk9VelBi4stDOtIegj0q+Alo60vcWG+2SzRRbpSrTCJ+XE6LfL7pGOdQSDV2zbRIdzWtuhvd7Z0GxEazKbc/LzeBBcBHtdD984lnFxyhdXy52whge1l7RppEIJCUml1s5mLy5VZuVQMdROBn8Rb2WCoF2mk6WxDJyWPl0RTlmTgiKZEPtUMmWKoc8jLzk8aiKturg2kBptTB07AXKZ44fAIjshAVN4/7G70/e/f+745VIFOU1BD8k8e05yIrztHTl/mcYoGb4ltvKkUrqvtYg8TYxfw37PPm82mZbJGvzVGUEvo7bi8j1dTrf5KXXyvP6at/XnGuFxUyhSJ7BMopca3ePg9n+TZbiVTQ0/levBrHXB7Y8Y7X1qMTEUiEOSrmN0nGDqKs15Lwbxo7m0XJVycvzYx98C6aAfcJOfJ2HfE4tIAPkIxS29r4sBUdwdVOx/1iEs1dhTC8Ehn8PP+N6EFf8AqyzjgL0IClW4EQqXXdBkI6zB8svUhHqz7C0bbcyvvut4wu8XTX3D2yjbfKMyDOiUA4lQ9S1Y2W+bvLXPawPT9ZMi59SjrwILTwU6GnH8H/Yb0U/IuPY4CeagbvceLhrx1WazeLCIfqXjJNzJLEUIFH+m7v4cKImGF2kmjLdRhYftYRG30Bq4s=
  bucket:
    secure: L9iW/eflalawY2X7P040VAiXdHxegR/f8y/0sIRyJMqjdN4eOPTuBTIDtmg7clAoPx/JO43HgKV8S19Pv9plF6XAZ3yOX14PikptHSjhbllzRB0qLaSBL4o0VtQfbFizd3BayIxeQP/Er6iQBtd3hHN2/kNEpCZ72JHT2tmSnH9HSsGt20GXVl01j72ji53rrr7kqyY5TvCktabQWKXyv7tRPSVMBonoQXN9dC+76QEjQGF1V9k7m2sCAyJ5Mtai2HeP4FTjroizToLUYIr5zFXouXjcqnKfMMcclb6323JosXSs6AulQKkM/tUm9h+eGUrZoHqxoLLGEAR+czvn/+DzULxcNCqnEPnYjmDqPoEG6yuR2sgXEpI/REFmJWkHLfnDTzgQIpd4H4lIIl/7XPWEfsUzXHMx+QRsNhDK27alZW9VmzArhDm2YB3D/Dp07KglYIXlOLnWPvc/KEu1krU6kXHAJimVMvgaIDI3zuCb+mB/fLmwFy6vBg2yIa3INHroMRnC62vfYR8polNQ96MArrmCOoXvDDlkgcbcPX6CSbQMb8lZaSwq3Bg9ky4nteNLsUlqxTm1hIpRsUKmQ7ItyrtNcvsVNZ2Yr592h52xKeJ4+31FW1Xoab4eUdrUNO8obCEdyVisfiYtKFe78C1hngMWcKPAFD1O3ZGeCQA=
  regoin: us-west-2
  local_dir: log
